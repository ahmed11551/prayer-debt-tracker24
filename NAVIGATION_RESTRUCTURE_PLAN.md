# План реструктуризации навигации под новый дизайн

## Текущая структура

### Главная страница (Index.tsx) - Казы:
- План восполнения
- Прогресс
- Сафар
- Отчёты
- Калькулятор
- Цели
- Календарь

### Страница Зикры (Dhikr.tsx):
- Дуа
- Азкары
- Салаваты
- Калимы
- Тасбих

### Нижняя навигация:
- Каза
- Зикры

---

## Новый дизайн из Figma

### Нижняя навигация (3 пункта):
1. **Тасбих** - главный экран
2. **Цели и привычки** - второй экран
3. **Отчёты** - третий экран

### Дополнительно:
- **Профиль** - отдельный экран (доступ через иконку в header)

---

## Варианты интеграции

### Вариант 1: Полная реструктуризация (рекомендуется)

**Новая структура:**

#### 1. Тасбих (главный экран)
- **Основной функционал:** Умный тасбих с выбором из категорий
- **Доступ к зикрам:** Через выбор категорий в тасбихе
  - Дуа → выбор в тасбихе
  - Азкары → выбор в тасбихе
  - Салаваты → выбор в тасбихе
  - Калимы → выбор в тасбихе
  - Коран → выбор в тасбихе
- **Доступ к казам:** Через цели (цель на восполнение намазов)

#### 2. Цели и привычки
- **Основной функционал:** Управление целями
- **Интеграция каз:**
  - Блок "Пропущенные намазы" с кнопкой "Посчитать / Восполнить"
  - При нажатии → открывается калькулятор каз
  - Создание цели на восполнение намазов
  - Отслеживание прогресса восполнения
- **Интеграция зикров:**
  - Цели на зикры (дуа, азкары, салаваты)
  - Связь с тасбихом

#### 3. Отчёты
- **Общая статистика:**
  - Зикры: общее количество
  - Цели: количество и прогресс
  - Казы: статистика восполнения
- **Графики:**
  - График недели (общий прогресс)
  - График каз (если есть активная цель)
- **Бейджи:**
  - За зикры
  - За казы
  - За цели

#### 4. Профиль (через иконку в header)
- Настройки
- Уровень пользователя
- Premium

**Преимущества:**
- ✅ Соответствует дизайну из Figma
- ✅ Упрощенная навигация (3 основных раздела)
- ✅ Все функции доступны через логичные пути
- ✅ Фокус на главных действиях

**Недостатки:**
- ⚠️ Нужно переработать навигацию
- ⚠️ Казы и зикры не видны сразу (только через цели/тасбих)

---

### Вариант 2: Гибридный подход

**Структура:**

#### 1. Тасбих
- Умный тасбих
- Быстрый доступ к зикрам (кнопка "Все зикры" → открывает список)

#### 2. Цели и привычки
- Управление целями
- Блок "Пропущенные намазы" → калькулятор каз

#### 3. Отчёты
- Общая статистика
- Графики
- Бейджи

#### 4. Дополнительное меню (иконка в header)
- Казы (полный раздел с калькулятором, планом, прогрессом)
- Зикры (полный раздел с дуа, азкарами, салаватами)
- Профиль

**Преимущества:**
- ✅ Соответствует дизайну
- ✅ Полный доступ ко всем функциям
- ✅ Не теряем функциональность

**Недостатки:**
- ⚠️ Казы и зикры "спрятаны" в меню

---

### Вариант 3: Расширенная нижняя навигация

**Структура:**

#### Нижняя навигация (5 пунктов):
1. Тасбих
2. Зикры
3. Цели
4. Казы
5. Отчёты

**Преимущества:**
- ✅ Все разделы видны сразу
- ✅ Быстрый доступ

**Недостатки:**
- ❌ Не соответствует дизайну из Figma (там 3 пункта)
- ❌ Перегруженная навигация

---

## Рекомендация: Вариант 1 + улучшения

### Предлагаемая структура:

#### 1. Тасбих (главный экран)
```
┌─────────────────────────┐
│  Таймер    [Профиль]    │
├─────────────────────────┤
│                         │
│  [Панель с текстом]     │
│                         │
│      [Золотой счетчик]  │
│         00              │
│                         │
│  [+10]                  │
│                         │
└─────────────────────────┘
│ [Тасбих] [Цели] [Отчёты]│
└─────────────────────────┘
```

**Доступ к зикрам:**
- При выборе категории в тасбихе → показываем список зикров
- Кнопка "Все зикры" → открывает полный список (дуа, азкары, салаваты, калимы)

#### 2. Цели и привычки
```
┌─────────────────────────┐
│  Таймер    [Профиль]    │
├─────────────────────────┤
│  Цели и привычки        │
│                         │
│  ┌───────────────────┐ │
│  │ [○] Утренний азкар│ │
│  │    10 / 33        │ │
│  │ [✓] [→Тасбих]     │ │
│  └───────────────────┘ │
│                         │
│  ┌───────────────────┐ │
│  │ Пропущенные намазы│ │
│  │ [Посчитать]       │ │
│  └───────────────────┘ │
│                         │
│  [+ Добавить цель]      │
│                         │
└─────────────────────────┘
│ [Тасбих] [Цели] [Отчёты]│
└─────────────────────────┘
```

**Доступ к казам:**
- Блок "Пропущенные намазы" → открывает калькулятор
- После расчета → создается цель на восполнение
- Прогресс отслеживается в целях

#### 3. Отчёты
```
┌─────────────────────────┐
│  Таймер    [Профиль]    │
├─────────────────────────┤
│  Отчёты и аналитика     │
│                         │
│  Статистика:            │
│  Зикры: 00  Цели: 00    │
│                         │
│  [7 дней подряд] [График]│
│                         │
│  Бейджи:                │
│  [Сахих] [Сердце] [Намаз]│
│                         │
└─────────────────────────┘
│ [Тасбих] [Цели] [Отчёты]│
└─────────────────────────┘
```

#### 4. Профиль (через иконку в header)
- Настройки
- Уровень
- Premium

---

## План миграции

### Этап 1: Реструктуризация навигации
- [ ] Изменить BottomNav на 3 пункта
- [ ] Создать новые страницы/роуты
- [ ] Обновить роутинг

### Этап 2: Адаптация Тасбиха
- [ ] Золотой счетчик
- [ ] Таймер в header
- [ ] Кнопка "+10"
- [ ] Интеграция зикров через выбор категорий

### Этап 3: Адаптация Целей
- [ ] Круговой прогресс
- [ ] Блок "Пропущенные намазы"
- [ ] Интеграция калькулятора каз

### Этап 4: Адаптация Отчётов
- [ ] График недели
- [ ] Индикатор дней подряд
- [ ] Бейджи в новом формате

### Этап 5: Создание Профиля
- [ ] Новый компонент ProfileScreen
- [ ] Настройки
- [ ] Premium

---

## Вопросы для уточнения

1. **Казы:**
   - Оставляем полный раздел с калькулятором, планом, прогрессом?
   - Или только через цели (калькулятор → создание цели → отслеживание)?

2. **Зикры:**
   - Только через тасбих (выбор категорий)?
   - Или нужен отдельный раздел для просмотра всех зикров?

3. **Навигация:**
   - Строго 3 пункта как в дизайне?
   - Или можно добавить 4-й пункт для каз/зикров?



